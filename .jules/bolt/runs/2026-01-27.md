# Run Log: 2026-01-27

## Initialization
- Read: CI workflows, CLAUDE.md, CONTRIBUTING.md, README.md
- Lane: Scout (Discovery)
- Target: `crates/tokmd-model/src/lib.rs::module_key`
- Proof Method: Micro-benchmark (Test harness)

## Options Considered
### Option A (Selected)
Optimize `module_key` to avoid allocations and redundant path normalization.
- **Why**: `module_key` is called for every file. It allocates `String` (replace) and `Vec` (split).
- **Trade-off**: Slightly more complex iterator logic vs cleaner but slower split/collect.

### Option B
Use a cache or interning for module keys.
- **Why**: Many files share same module.
- **Trade-off**: Complexity of managing cache lifetime; strict determinism requirements.

## Receipts
- Baseline: 110ms / 500k calls (220ns/call).
- After: 75ms / 500k calls (150ns/call).
- Improvement: 31% speedup in `module_key`.
- Additional gain: `collect_file_rows` now bypasses normalization in `module_key`, saving 1 String allocation per file.
