# Run Log: 2026-02-06

## ğŸ“š Context
- Read `CONTRIBUTING.md`, `Cargo.toml`.
- Initialized `.jules` structure.

## ğŸ›£ï¸ Lane Selection
- [ ] Lane A: Friction Backlog
- [x] Lane B: Scout Discovery

## ğŸ¯ Target
Enable `json-pretty` output format for `lang` and `module` commands.

## ğŸ” Findings
- `tokmd lang --format json-pretty` is rejected by the CLI.
- `TableFormat` enum only supports `Md`, `Tsv`, `Json`.
- `tokmd-format` uses `serde_json::to_string` for `Json`, producing compact output.
- Users piping to `jq` is a common friction point that can be avoided.

## ğŸ§­ Options Considered
### Option A (Recommended)
Add `JsonPretty` variant to `TableFormat` enum in `tokmd-types`.
- **Pros**: Explicit, backward compatible, standard pattern (kebab-case).
- **Cons**: Requires touching Tier 0 crate (`tokmd-types`) and Tier 2 (`tokmd-format`).

### Option B
Change `Json` variant to output pretty JSON by default.
- **Pros**: No schema change.
- **Cons**: Breaking change for scripts expecting single-line JSON.

## âœ… Decision
Option A: Add `JsonPretty` variant.

## ğŸ§¾ Receipts
- **Build**: Passed.
- **Tests**: Passed `cargo test --package tokmd-config`.
- **Verification**: `tokmd lang --format json-pretty` produces indented JSON.
