# Run Log 2025-02-19

## Context
Agent: Gatekeeper ðŸ§ª
Target: `crates/tokmd-config`

## Findings
- `UserConfig` used `HashMap` for `profiles` and `repos`, leading to non-deterministic JSON serialization.
- This violated the "Deterministic Output" principle in `CLAUDE.md`.

## Actions
- Created `crates/tokmd-config/tests/determinism.rs` to reproduce/verify the issue.
- Refactored `UserConfig` to use `BTreeMap`.
- Verified that `UserConfig` serialization is now sorted alphabetically.
- Ran workspace tests to ensure no regressions.

## Outcome
- `UserConfig` is now deterministic.
- Added regression test `tests/determinism.rs`.

---

## Context (Run 2)
Agent: Gatekeeper ðŸ§ª
Target: `crates/tokmd-config`

## Findings
- `TomlConfig` used `HashMap` for `view` profiles, leading to non-deterministic serialization.
- This also violated the "Deterministic Output" principle.

## Actions
- Added `test_toml_config_determinism` to `crates/tokmd-config/tests/determinism.rs`.
- Refactored `TomlConfig` to use `BTreeMap` for `view`.
- Verified deterministic behavior and passed all tests.

## Outcome
- `TomlConfig` serialization is now deterministic.
