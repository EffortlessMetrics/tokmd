# Run 2024-05-23: Compat Scout

## Discovery
Found that `tokmd` CLI crate forced `git`, `walk`, `content` features on `tokmd-analysis` and `tokmd-git`.
This prevents building a lightweight binary.

## Decision
Option A: Refactor `Cargo.toml` to expose these as features.

## Changes
- `crates/tokmd/Cargo.toml`: Added `[features]`.
- `crates/tokmd/src/commands/diff.rs`: Gated git usage.
- `crates/tokmd/tests/run_diff.rs`: Gated git tests.

## Verification
- `cargo check --package tokmd --no-default-features` passed.
- `cargo test --package tokmd --no-default-features` passed.
