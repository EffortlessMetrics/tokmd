# Run 2024-05-25 (Compat)

## Target
`crates/tokmd/src/commands/cockpit.rs` - fix unused code warnings when `feature = "git"` is disabled.

## Context
Running `cargo build --no-default-features` produced 86 warnings in `cockpit.rs`.
The `cockpit` command logic is mostly unused when `git` feature is off, but the code was compiled (and warned) because only the `handle` body was guarded, not the helper functions/structs.

## Plan
Refactor `cockpit.rs` to move implementation details into a `#[cfg(feature = "git")] mod impl_git` block.

## Verification Receipts

### `--no-default-features`
```
cargo check -p tokmd --no-default-features
warning: unused import: `Context`
warning: unused variable: `args`
Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.58s
```
Reduced warnings from 86 to 2.

### `--all-features`
```
cargo check -p tokmd --all-features
Finished `dev` profile [unoptimized + debuginfo] target(s) in 3.47s
```
Zero warnings.

### Tests
```
cargo test -p tokmd commands::cockpit
test result: ok. 24 passed; 0 failed; 0 ignored; 0 measured; 157 filtered out
```
All tests passed.
