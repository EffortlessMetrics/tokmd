--- crates/tokmd/src/analysis_utils.rs
+++ crates/tokmd/src/analysis_utils.rs
@@ -168,48 +168,49 @@
     }

     #[test]
-    fn test_map_preset_all_variants() {
+    fn test_map_preset_all_variants() -> Result<()> {
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Receipt).unwrap(),
+            map_preset(cli::AnalysisPreset::Receipt)?,
             analysis::AnalysisPreset::Receipt
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Health).unwrap(),
+            map_preset(cli::AnalysisPreset::Health)?,
             analysis::AnalysisPreset::Health
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Risk).unwrap(),
+            map_preset(cli::AnalysisPreset::Risk)?,
             analysis::AnalysisPreset::Risk
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Supply).unwrap(),
+            map_preset(cli::AnalysisPreset::Supply)?,
             analysis::AnalysisPreset::Supply
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Architecture).unwrap(),
+            map_preset(cli::AnalysisPreset::Architecture)?,
             analysis::AnalysisPreset::Architecture
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Topics).unwrap(),
+            map_preset(cli::AnalysisPreset::Topics)?,
             analysis::AnalysisPreset::Topics
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Security).unwrap(),
+            map_preset(cli::AnalysisPreset::Security)?,
             analysis::AnalysisPreset::Security
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Identity).unwrap(),
+            map_preset(cli::AnalysisPreset::Identity)?,
             analysis::AnalysisPreset::Identity
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Git).unwrap(),
+            map_preset(cli::AnalysisPreset::Git)?,
             analysis::AnalysisPreset::Git
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Deep).unwrap(),
+            map_preset(cli::AnalysisPreset::Deep)?,
             analysis::AnalysisPreset::Deep
         ));
         assert!(matches!(
-            map_preset(cli::AnalysisPreset::Fun).unwrap(),
+            map_preset(cli::AnalysisPreset::Fun)?,
             analysis::AnalysisPreset::Fun
         ));
+        Ok(())
